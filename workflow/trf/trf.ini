;workflow for trf
[empty]

[trf]
;; run the trf wrapper
param.command=$;BIN_DIR$;/trf_wrapper
param.--input=$;ITER_FILE_PATH$;
param.--match=$;MATCH$;
param.--mismatch=$;MISMATCH$;
param.--delta=$;DELTA$;
param.--pm=$;PM$;
param.--pi=$;PI$;
param.--minscore=$;MINSCORE$;
param.--maxperiod=$;MAXPERIOD$;
param.--other_opts='-d $;OTHER_OPTS$;'
param.--output_dir=$;TMP_DIR$;/$;GROUP_NAME$;

[relocate_output]
param.command=find
arg=$;TMP_DIR$;/$;GROUP_NAME$; -type f -regex '.*\/$;ITER_FILE_BASE$;\..*$;MATCH$;\.$;MISMATCH$;\.$;DELTA$;\.$;PM$;\.$;PI$;\.$;MINSCORE$;\.$;MAXPERIOD$;\.dat' -exec mv \{\} $;OUTPUT_DIRECTORY$;/$;GROUP_NAME$;/$;ITER_FILE_BASE$;.$;NAME$;.raw \;

[trf2bsml]
param.command=$;BIN_DIR$;/trf2bsml
param.--input=$;OUTPUT_DIRECTORY$;/$;GROUP_NAME$;/$;ITER_FILE_BASE$;.$;NAME$;.raw
param.--output=$;OUTPUT_DIRECTORY$;/$;GROUP_NAME$;/$;ITER_FILE_BASE$;.$;NAME$;.bsml
param.--project=$;DATABASE$;

[store_config_params]
;store parameters associated with analysis in bsml file
;workflow will pass add'l optional parameters if invoked with LoggedUnixCommand
;--command-id
param.command=$;BIN_DIR$;/analysis2bsml
param.--ergatis_control_file=$;ERGATIS_DIR$;.ini
param.--conf=$;COMPONENT_CONFIG$;
param.--bsml_file=$;OUTPUT_DIRECTORY$;/$;GROUP_NAME$;/$;ITER_FILE_BASE$;.$;NAME$;.bsml
param.--componenturl=$;WORKFLOW_REPOSITORY$;/pipeline.xml
param.--pipelineurl=$;REPOSITORY_ROOT$;/Workflow/pipeline/pipeline$;PIPELINEID$;.xml
param.--analysis_id=$;NAME$;_analysis

[dtd_validation]
;perform document schema validation
param.command=$;BIN_DIR$;/dtdValid.pl
param.-d=$;SCHEMA_DIR$;/bsml3_1.dtd
arg=$;OUTPUT_DIRECTORY$;/$;GROUP_NAME$;/$;ITER_FILE_BASE$;.$;NAME$;.bsml
