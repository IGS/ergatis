<?xml version="1.0" encoding="UTF-8"?>

<commandSetRoot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
				xsi:schemaLocation='commandSet.xsd'>
    <commandSet type="serial">
        <name>bsml2chado workflow</name>
      <configMapId>empty</configMapId>
<!--Set up output and scratch areas-->
        <command>
          <type>RunUnixCommand</type>
          <name>Create scratch space</name>
         <configMapId>create_compute_scratch</configMapId>
        </command>
        <command>
          <type>RunUnixCommand</type>
          <name>Create output repository</name>
          <configMapId>create_compute_output</configMapId>
        </command>
<!--Preprocess permissions-->
        <command>
          <type>RunUnixCommand</type>
          <name>Set workflowdocs permissions</name>
          <configMapId>set_workflowdocs_permissions</configMapId>
        </command>
<!--Preprocessing-->
        <commandSet type="parallel">
                <name>Backup all tables</name>
                <configMapId>empty</configMapId>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_analysis</name>
                      <configMapId>backup_analysis</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_analysisfeature</name>
                      <configMapId>backup_analysisfeature</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_analysisprop</name>
                      <configMapId>backup_analysisprop</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_author</name>
                      <configMapId>backup_author</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_contact</name>
                      <configMapId>backup_contact</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_cv</name>
                      <configMapId>backup_cv</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_cvterm</name>
                      <configMapId>backup_cvterm</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_cvterm_dbxref</name>
                      <configMapId>backup_cvterm_dbxref</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_cvterm_relationship</name>
                      <configMapId>backup_cvterm_relationship</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_cvtermpath</name>
                      <configMapId>backup_cvtermpath</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_cvtermsynonym</name>
                      <configMapId>backup_cvtermsynonym</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_db</name>
                      <configMapId>backup_db</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_dbxref</name>
                      <configMapId>backup_dbxref</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_feature</name>
                      <configMapId>backup_feature</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_feature_cvterm</name>
                      <configMapId>backup_feature_cvterm</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_feature_dbxref</name>
                      <configMapId>backup_feature_dbxref</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_feature_pub</name>
                      <configMapId>backup_feature_pub</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_feature_relationship</name>
                      <configMapId>backup_feature_relationship</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_feature_synonym</name>
                      <configMapId>backup_feature_synonym</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_featureloc</name>
                      <configMapId>backup_featureloc</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_featureprop</name>
                      <configMapId>backup_featureprop</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_featureprop_pub</name>
                      <configMapId>backup_featureprop_pub</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_organism</name>
                      <configMapId>backup_organism</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_organism_dbxref</name>
                      <configMapId>backup_organism_dbxref</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_organismprop</name>
                      <configMapId>backup_organismprop</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_project</name>
                      <configMapId>backup_project</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_pub</name>
                      <configMapId>backup_pub</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_pub_author</name>
                      <configMapId>backup_pub_author</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_pub_dbxref</name>
                      <configMapId>backup_pub_dbxref</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_pub_relationship</name>
                      <configMapId>backup_pub_relationship</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_pubprop</name>
                      <configMapId>backup_pubprop</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_synonym</name>
                      <configMapId>backup_synonym</configMapId>
                </command>
                <command>    
                      <type>RunUnixCommand</type>
                      <name>backup_tableinfo</name>
                      <configMapId>backup_tableinfo</configMapId>
                </command>
       </commandSet>
       <command>    
            <type>RunUnixCommand</type>
            <name>revoke_public</name>
            <configMapId>revoke_public</configMapId>
        </command>
        <command>    
            <type>RunUnixCommand</type>
            <name>truncate_all</name>
            <configMapId>truncate_all</configMapId>
        </command>
<!--Iterator steps-->
        <command>
          <type>RunUnixCommand</type>
          <name>Create iterator list</name>
          <configMapId>create_iterator_list_subflow1</configMapId>
        </command>
      	<command>
          <type>RunUnixCommand</type>
          <name>Create groups</name>
          <configMapId>create_groups_subflow1</configMapId>
        </command>
        <command>
          <type>RunUnixCommand</type>
          <name>Create iterative subflow</name>
          <configMapId>create_iterative_subflow1</configMapId>
        </command>
        <commandSet type="parallel">
          <name>Iterated subflow</name>
          <configMapId>subflow1</configMapId>
        </commandSet>
<!--Postprocessing-->
        <command>    
            <type>RunUnixCommand</type>
            <name>Generate output list</name>
            <configMapId>generate_directory_list</configMapId>
        </command>
        <command>    
            <type>RunUnixCommand</type>
            <name>Replace placeholders</name>
            <configMapId>replace_placeholders</configMapId>
        </command>
        <command>    
            <type>RunUnixCommand</type>
            <configMapId>validate_out_files</configMapId>
             <name>validate_out_files</name>
       </command>
        <command>    
            <type>RunUnixCommand</type>
            <name>drop_indexes</name>
            <configMapId>drop_indexes</configMapId>
        </command>
        <commandSet type="parallel">
                <name>Load Ontology, contact and pub records</name>
                <configMapId>empty</configMapId>
                <command>    
                     <type>RunUnixCommand</type>
                     <name>load_cv</name>
                     <configMapId>load_cv</configMapId>
                </command>
                <command>    
                     <type>RunUnixCommand</type>
                     <name>load_cvterm</name>
                     <configMapId>load_cvterm</configMapId>
                </command>
                <command>    
                     <type>RunUnixCommand</type>
                     <name>load_cvterm_relationship</name>
                     <configMapId>load_cvterm_relationship</configMapId>
                </command>
                <command>    
                     <type>RunUnixCommand</type>
                     <name>load_cvtermpath</name>
                     <configMapId>load_cvtermpath</configMapId>
                </command>
                <command>    
                     <type>RunUnixCommand</type>
                     <name>load_cvtermsynonym</name>
                     <configMapId>load_cvtermsynonym</configMapId>
                </command>
                <command>    
                     <type>RunUnixCommand</type>
                     <name>load_cvterm_dbxref</name>
                     <configMapId>load_cvterm_dbxref</configMapId>
                </command>
                <command>    
                     <type>RunUnixCommand</type>
                     <name>load_dbxrefprop</name>
                     <configMapId>load_dbxrefprop</configMapId>
                </command>
                <command>    
                     <type>RunUnixCommand</type>
                     <name>load_db</name>
                     <configMapId>load_db</configMapId>
                </command>
                <command>    
                     <type>RunUnixCommand</type>
                     <name>load_dbxref</name>
                     <configMapId>load_dbxref</configMapId>
                </command>
                <command>    
                     <type>RunUnixCommand</type>
                     <name>load_pub</name>
                     <configMapId>load_pub</configMapId>
                </command>
                <command>    
                     <type>RunUnixCommand</type>
                     <name>load_contact</name>
                     <configMapId>load_contact</configMapId>
                </command>
       </commandSet>
        <command>    
            <type>RunUnixCommand</type>
            <name>rebuild_indexes</name>
            <configMapId>rebuild_indexes</configMapId>
        </command>
        <command>    
            <type>RunUnixCommand</type>
            <configMapId>confirm_database_loaded</configMapId>
            <name>confirm_database_loaded</name>
        </command>
<!--Checksum creation-->
<!--Postprocess permissions-->
        <command>    
            <type>RunUnixCommand</type>
            <name>grant_public</name>
            <configMapId>grant_public</configMapId>
        </command>
        <command>    
            <type>RunUnixCommand</type>
            <name>grant_cas_permissions</name>
            <configMapId>grant_cas_permissions</configMapId>
        </command>
        <command>        
          <type>RunUnixCommand</type>
          <name>Set workflowdocs permissions</name>
          <configMapId>set_workflowdocs_permissions</configMapId>
       </command>
       <command>
          <type>RunUnixCommand</type>
          <name>Set permissions for scratch area</name>
          <configMapId>set_scratch_permissions</configMapId>
       </command>
       <command>
          <type>RunUnixCommand</type>
          <name>Set permissions for output</name>
          <configMapId>set_output_permissions</configMapId>
       </command>
     </commandSet>
</commandSetRoot>
