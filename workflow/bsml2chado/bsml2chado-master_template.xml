<?xml version="1.0" encoding="UTF-8"?>

<commandSetRoot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
				xsi:schemaLocation='commandSet.xsd'>
    <commandSet type="serial">
        <name>bsml2chado workflow</name>
      <configMapId>empty</configMapId>
<!--Set up output and scratch areas-->
        <command>
          <type>RunUnixCommand</type>
          <name>Create scratch space</name>
         <configMapId>create_compute_scratch</configMapId>
        </command>
        <command>
          <type>RunUnixCommand</type>
          <name>Create output repository</name>
          <configMapId>create_compute_output</configMapId>
        </command>
        <command>
          <type>RunUnixCommand</type>
          <name>Create dupdir</name>
          <configMapId>create_dupdir</configMapId>
        </command>
        <command>
          <type>RunUnixCommand</type>
          <name>Create analysis_dir</name>
          <configMapId>create_analysis_dir</configMapId>
        </command>
<!--Preprocess permissions-->
        <command>
          <type>RunUnixCommand</type>
          <name>Set workflowdocs permissions</name>
          <configMapId>set_workflowdocs_permissions</configMapId>
        </command>
<!--Preprocessing-->
<!--Iterator steps-->
        <command>
          <type>RunUnixCommand</type>
          <name>Create iterator list</name>
          <configMapId>create_iterator_list_subflow1</configMapId>
        </command>
        <command>
          <type>RunUnixCommand</type>
          <name>Add analysis id</name>
          <configMapId>add_analysis_id</configMapId>
        </command>
        <command>
          <type>RunUnixCommand</type>
          <name>File-cache the queries</name>
          <configMapId>cache_queries</configMapId>
        </command>
      	<command>
          <type>RunUnixCommand</type>
          <name>Create groups</name>
          <configMapId>create_groups_subflow1</configMapId>
        </command>
        <command>
          <type>RunUnixCommand</type>
          <name>Create iterative subflow</name>
          <configMapId>create_iterative_subflow1</configMapId>
        </command>
        <commandSet type="parallel">
          <name>Iterated subflow1</name>
          <configMapId>subflow1</configMapId>
        </commandSet>
<!--Postprocessing-->
        <command>
          <type>RunUnixCommand</type>
          <name>Create iterative subflow</name>
          <configMapId>create_iterative_subflow2</configMapId>
        </command>
        <commandSet type="serial">
          <name>Record duplication resolution subflow</name>
          <configMapId>subflow2</configMapId>
        </commandSet>
        <command>    
            <type>RunUnixCommand</type>
            <name>Make External Reference List</name>
            <configMapId>make_external_reference_list</configMapId>
        </command>
        <command>    
            <type>RunUnixCommand</type>
            <name>Replace placeholders</name>
            <configMapId>replace_placeholders</configMapId>
        </command>
        <command>
          <type>RunUnixCommand</type>
          <name>Create iterative subflow</name>
          <configMapId>create_iterative_subflow2</configMapId>
        </command>
        <commandSet type="serial">
          <name>Index Validation subflow</name>
          <configMapId>subflow3</configMapId>
        </commandSet>
        <command>    
            <type>RunUnixCommand</type>
            <name>Foreign Constraints Validation</name>
            <configMapId>foreign_key_validation</configMapId>
        </command>
        <command>    
            <type>RunUnixCommand</type>
            <configMapId>drop_indexes</configMapId>
            <name>drop_indexes</name>
        </command>
        <command>    
            <type>RunUnixCommand</type>
            <configMapId>load_tables</configMapId>
            <name>load_tables</name>
        </command>
        <command>    
            <type>RunUnixCommand</type>
            <configMapId>rebuild_indexes</configMapId>
            <name>rebuild_indexes</name>
        </command>
<!--Checksum creation-->
<!--Postprocess permissions-->
        <command>        
          <type>RunUnixCommand</type>
          <name>Set workflowdocs permissions</name>
          <configMapId>set_workflowdocs_permissions</configMapId>
       </command>
       <command>
          <type>RunUnixCommand</type>
          <name>Set permissions for scratch area</name>
          <configMapId>set_scratch_permissions</configMapId>
       </command>
       <command>
          <type>RunUnixCommand</type>
          <name>Set permissions for output</name>
          <configMapId>set_output_permissions</configMapId>
       </command>
       <command>
          <type>RunUnixCommand</type>
          <name>check_logfiles</name>
          <configMapId>check_logfiles</configMapId>
       </command>
     </commandSet>
</commandSetRoot>
